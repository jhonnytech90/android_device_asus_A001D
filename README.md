# BUILD COSRVUS-OS FOR A001D

<p align="center">
<img src="https://raw.githubusercontent.com/DotOS/resources_drawables/master/dot11/dot_main-banner.png" > 
</p>

Prepare your Machine and Java environment:
========================

To prevent errors generated by having the wrong version of Java installed on your computer, we will start by removing any conflicting Java version and adding the correct version. Java 11 is needed to build Android.

```bash
sudo apt-get purge openjdk-* icedtea-* icedtea6-*
```
Once Java is removed, install the correct version of Java by entering the following commands in a terminal window:
```bash
sudo apt-get update
```
```bash
sudo apt-get install openjdk-11-jdk
```

Install the necessary tools to make an Android build:
================

```bash
sudo apt-get install bison g++-multilib git gperf libxml2-utils make zlib1g-dev:i386 zip liblz4-tool libncurses5 libssl-dev bc flex curl python-is-python3
```

Creating the necessary folders and giving permissions:
================

```bash
mkdir ~/bin
```
```bash
curl http://commondatastorage.googleapis.com/git-repo-downloads/repo > ~/bin/repo
```
```bash
chmod a+x ~/bin/repo
```
To set the right path for your local bin folder, paste the following code to a new line at the very bottom of the bashrc file, and then save the file using Ctrl+X:
```bash
export PATH=~/bin:$PATH
```
```bash
source ~/.bashrc
```
```bash
mkdir corvus
```
```bash
cd corvus
```
You now have all the tools you need and can proceed to initialize the DotOS code and device settings. Learn how to do this below:

Configuring Git:
================
Edit this by entering YOUR PERSONAL DATA FROM GITHUB

Sign your email linked to your GitHub account
```bash
git config --global user.email "you@example.com"
```
Sign your username linked to your GitHub account
```bash
git config --global user.name "Your Name"
```



Downloading Source Code:
========================

To initialize your local repository, use a command like this:

```bash
repo init --depth=1 -u https://github.com/Corvus-R/android_manifest.git -b 11
```

Then to sync up:
================

```bash
repo sync -c -j$(nproc --all) --force-sync --no-clone-bundle --no-tags
```

If you get permission errors, type:
================

```bash
sudo chmod 777 /etc/.repo_gitconfig.json
```

Downloading Device Trees:
========================
```bash
git clone https://github.com/jhonnytech90/android_device_asus_A001D -b corvus device/asus/A001D &&
git clone https://github.com/jhonnytech90/vendor_asus_A001D -b lineage-18.1 vendor/asus/A001D &&
git clone https://github.com/jhonnytech90/kernel_asus_A001D -b 11 kernel/asus/A001D
```
our device needs a prebuild kernel, to force compatibility I had to edit the DotOS Vendor Source to make it compatible so we will have to download it too, 
first we will delete the original:
```bash
sudo rm -r vendor/corvus
```
now download the modified:
```bash
git clone https://github.com/jhonnytech90/corvus_dot -b corvus vendor/corvus
```

Compilation of DotOS:
====================

From root directory of Project, perform following commands in terminal to start Compilation.
```bash
export USE_CCACHE=1
```
```bash
export CCACHE_COMPRESS=1
```
```bash
export CCACHE_MAXSIZE=50G
```



```bash
. build/envsetup.sh
```

```bash
lunch corvus_A001D-userdebug
```

```bash
make corvus
```

If you still couldn't compile a rom, you can kill yourself right now because you have no salvation,sorry!
-----------------------------------------------------------------------------
